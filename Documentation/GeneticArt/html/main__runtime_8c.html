<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>GeneticArt: src/main_runtime.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">GeneticArt
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">main_runtime.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Runtime init and SDL/Nuklear integration for the Genetic Art demo.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;../includes/Nuklear/nuklear.h&quot;</code><br />
<code>#include &quot;../includes/config.h&quot;</code><br />
<code>#include &quot;<a class="el" href="main__runtime_8h_source.html">../includes/software_rendering/main_runtime.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="embedded__font_8h_source.html">../includes/fonts_as_header/embedded_font.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="nuklear__sdl__renderer_8h_source.html">../includes/software_rendering/nuklear_sdl_renderer.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="genetic__structs_8h_source.html">../includes/genetic_algorithm/genetic_structs.h</a>&quot;</code><br />
<code>#include &quot;../includes/software_rendering/ga_renderer.h&quot;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;math.h&gt;</code><br />
<code>#include &lt;pthread.h&gt;</code><br />
<code>#include &lt;stdatomic.h&gt;</code><br />
<code>#include &lt;SDL2/SDL.h&gt;</code><br />
<code>#include &quot;../includes/tools/system_tools.h&quot;</code><br />
<code>#include &quot;<a class="el" href="bmp__validator_8h_source.html">../includes/validators/bmp_validator.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for main_runtime.c:</div>
<div class="dyncontent">
<div class="center"><img src="main__runtime_8c__incl.png" border="0" usemap="#asrc_2main__runtime_8c" alt=""/></div>
<map name="asrc_2main__runtime_8c" id="asrc_2main__runtime_8c">
<area shape="rect" title="Runtime init and SDL/Nuklear integration for the Genetic Art demo." alt="" coords="922,5,1069,31"/>
<area shape="rect" title=" " alt="" coords="5,86,148,126"/>
<area shape="poly" title=" " alt="" coords="922,21,780,23,590,32,375,50,266,64,160,81,144,85,143,80,159,76,266,58,375,44,590,26,780,18,922,16"/>
<area shape="rect" href="config_8h_source.html" title=" " alt="" coords="172,93,315,119"/>
<area shape="poly" title=" " alt="" coords="922,24,661,40,498,56,335,81,291,92,290,87,333,76,497,51,661,34,922,19"/>
<area shape="rect" href="main__runtime_8h.html" title="Declarations for SDL2 and Nuklear initialization, reference image loading, and main loop management." alt="" coords="389,86,588,126"/>
<area shape="poly" title=" " alt="" coords="922,32,776,53,606,81,584,86,582,81,606,76,775,48,922,26"/>
<area shape="rect" title=" " alt="" coords="778,189,874,214"/>
<area shape="poly" title=" " alt="" coords="978,33,949,54,917,81,874,131,842,178,838,175,870,128,913,77,945,50,975,28"/>
<area shape="rect" title=" " alt="" coords="354,269,453,295"/>
<area shape="poly" title=" " alt="" coords="922,24,776,29,604,39,456,56,405,67,378,81,366,100,359,122,358,146,361,171,375,218,392,256,388,259,370,220,356,172,353,146,354,121,361,98,375,77,403,62,455,51,604,34,776,24,922,18"/>
<area shape="rect" href="genetic__structs_8h.html" title="Runtime&#45;configurable data structures for the Genetic Algorithm core." alt="" coords="563,269,697,295"/>
<area shape="poly" title=" " alt="" coords="922,24,846,30,766,40,696,57,670,68,652,81,638,100,628,122,619,170,621,217,627,255,621,256,615,217,614,169,623,120,633,97,648,77,667,63,694,52,765,35,846,25,921,19"/>
<area shape="rect" title=" " alt="" coords="892,269,976,295"/>
<area shape="poly" title=" " alt="" coords="989,32,974,54,962,80,949,127,941,176,936,256,931,255,936,175,944,126,957,78,970,51,984,29"/>
<area shape="rect" href="embedded__font_8h.html" title="Extern declarations for the embedded font data." alt="" coords="1547,86,1739,126"/>
<area shape="poly" title=" " alt="" coords="1069,22,1279,41,1408,56,1536,76,1558,80,1557,86,1535,81,1407,62,1279,46,1068,27"/>
<area shape="rect" href="nuklear__sdl__renderer_8h.html" title="Minimal SDL2&#45;based Nuklear backend integration (function prototypes only)." alt="" coords="971,79,1142,133"/>
<area shape="poly" title=" " alt="" coords="1006,29,1032,66,1028,69,1001,32"/>
<area shape="rect" href="ga__renderer_8h_source.html" title=" " alt="" coords="662,86,846,126"/>
<area shape="poly" title=" " alt="" coords="964,33,821,84,819,79,962,28"/>
<area shape="rect" title=" " alt="" coords="1763,93,1830,119"/>
<area shape="poly" title=" " alt="" coords="1069,18,1227,24,1425,34,1615,51,1693,63,1752,76,1770,84,1768,89,1751,81,1692,68,1614,56,1424,40,1227,29,1069,24"/>
<area shape="rect" title=" " alt="" coords="1855,93,1925,119"/>
<area shape="poly" title=" " alt="" coords="1069,18,1245,22,1468,32,1686,50,1775,62,1843,76,1862,84,1860,89,1841,81,1774,67,1685,55,1468,38,1244,28,1069,23"/>
<area shape="rect" title=" " alt="" coords="1949,93,2020,119"/>
<area shape="poly" title=" " alt="" coords="1069,17,1263,20,1515,29,1761,47,1862,60,1939,76,1957,84,1955,89,1937,81,1861,65,1760,52,1514,35,1263,26,1069,22"/>
<area shape="rect" title=" " alt="" coords="2044,93,2112,119"/>
<area shape="poly" title=" " alt="" coords="1069,17,1281,18,1560,26,1703,34,1835,44,1948,58,2033,76,2052,84,2049,89,2032,81,1947,63,1834,49,1702,39,1560,32,1281,24,1069,22"/>
<area shape="rect" href="system__tools_8h_source.html" title=" " alt="" coords="1166,86,1342,126"/>
<area shape="poly" title=" " alt="" coords="1031,28,1185,79,1183,84,1029,33"/>
<area shape="rect" href="bmp__validator_8h.html" title="BMP file validation utilities." alt="" coords="1366,86,1523,126"/>
<area shape="poly" title=" " alt="" coords="1069,26,1203,47,1355,76,1370,80,1369,85,1353,81,1202,52,1069,32"/>
<area shape="poly" title=" " alt="" coords="558,124,772,182,771,188,556,129"/>
<area shape="poly" title=" " alt="" coords="471,128,450,153,431,183,417,220,409,256,404,255,412,219,426,180,446,150,467,125"/>
<area shape="rect" href="genetic__art_8h_source.html" title=" " alt="" coords="441,181,593,221"/>
<area shape="poly" title=" " alt="" coords="497,125,510,167,504,169,492,127"/>
<area shape="poly" title=" " alt="" coords="491,224,433,263,430,259,488,219"/>
<area shape="poly" title=" " alt="" coords="546,219,603,259,600,263,543,224"/>
<area shape="poly" title=" " alt="" coords="593,214,879,268,878,273,592,220"/>
<area shape="rect" title=" " alt="" coords="593,343,667,368"/>
<area shape="poly" title=" " alt="" coords="633,295,633,329,627,329,627,295"/>
<area shape="poly" title=" " alt="" coords="993,136,868,186,866,181,991,131"/>
<area shape="rect" title=" " alt="" coords="983,189,1133,214"/>
<area shape="poly" title=" " alt="" coords="1060,134,1060,175,1055,175,1054,134"/>
<area shape="poly" title=" " alt="" coords="771,124,811,176,806,179,766,128"/>
<area shape="poly" title=" " alt="" coords="743,128,649,259,644,256,738,125"/>
<area shape="poly" title=" " alt="" coords="1243,128,1204,176,1176,202,1146,224,1107,243,1066,258,990,276,989,271,1065,253,1105,238,1143,219,1173,197,1200,172,1239,124"/>
<area shape="poly" title=" " alt="" coords="1215,128,1095,185,1093,180,1213,124"/>
<area shape="rect" title=" " alt="" coords="1253,189,1335,214"/>
<area shape="poly" title=" " alt="" coords="1265,125,1286,175,1281,177,1260,127"/>
<area shape="poly" title=" " alt="" coords="1416,128,1325,184,1323,179,1413,124"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a6626f4168d75c46ed5451349ab14d69e" id="r_a6626f4168d75c46ed5451349ab14d69e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main__runtime_8c.html#a6626f4168d75c46ed5451349ab14d69e">init_sdl_and_window</a> (SDL_Window **window, SDL_Renderer **renderer)</td></tr>
<tr class="memdesc:a6626f4168d75c46ed5451349ab14d69e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize SDL, window, and renderer.  <br /></td></tr>
<tr class="separator:a6626f4168d75c46ed5451349ab14d69e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa36e62ce285d1d1ec1b94c7781b11ac" id="r_aaa36e62ce285d1d1ec1b94c7781b11ac"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main__runtime_8c.html#aaa36e62ce285d1d1ec1b94c7781b11ac">init_nuklear_and_font</a> (struct nk_context **nk_ctx, SDL_Window *window, SDL_Renderer *renderer)</td></tr>
<tr class="memdesc:aaa36e62ce285d1d1ec1b94c7781b11ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize Nuklear and load the embedded font.  <br /></td></tr>
<tr class="separator:aaa36e62ce285d1d1ec1b94c7781b11ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3dd609811d0e2346ecf0e11e79a5286" id="r_ab3dd609811d0e2346ecf0e11e79a5286"><td class="memItemLeft" align="right" valign="top">SDL_Texture *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main__runtime_8c.html#ab3dd609811d0e2346ecf0e11e79a5286">load_reference_image</a> (const char *filename, SDL_Renderer *renderer, SDL_PixelFormat **fmt, Uint32 **ref_pixels)</td></tr>
<tr class="memdesc:ab3dd609811d0e2346ecf0e11e79a5286"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load and convert BMP into a format suitable for rendering and GA input.  <br /></td></tr>
<tr class="separator:ab3dd609811d0e2346ecf0e11e79a5286"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3926bf79b29f8777d0be1c56c0f2fa69" id="r_a3926bf79b29f8777d0be1c56c0f2fa69"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structGAContext.html">GAContext</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main__runtime_8c.html#a3926bf79b29f8777d0be1c56c0f2fa69">build_ga_context</a> (Uint32 *ref_pixels, Uint32 *best_pixels, SDL_PixelFormat *fmt, int pitch, atomic_int *running)</td></tr>
<tr class="memdesc:a3926bf79b29f8777d0be1c56c0f2fa69"><td class="mdescLeft">&#160;</td><td class="mdescRight">Build and return a fully-initialized <a class="el" href="structGAContext.html" title="GAContext — central structure for the GA engine.">GAContext</a> struct.  <br /></td></tr>
<tr class="separator:a3926bf79b29f8777d0be1c56c0f2fa69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d9ba41ac7d207dd0c1372a1323943ed" id="r_a5d9ba41ac7d207dd0c1372a1323943ed"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main__runtime_8c.html#a5d9ba41ac7d207dd0c1372a1323943ed">run_main_loop</a> (<a class="el" href="structGAContext.html">GAContext</a> *ctx, struct nk_context *nk, SDL_Window *window, SDL_Renderer *renderer, SDL_Texture *tex_ref, SDL_Texture *tex_best, Uint32 *best_pixels, int pitch)</td></tr>
<tr class="memdesc:a5d9ba41ac7d207dd0c1372a1323943ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run the main rendering and GUI update for each frame.  <br /></td></tr>
<tr class="separator:a5d9ba41ac7d207dd0c1372a1323943ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac317d4ce3d9bee8cfe93dd3e6f983a5d" id="r_ac317d4ce3d9bee8cfe93dd3e6f983a5d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main__runtime_8c.html#ac317d4ce3d9bee8cfe93dd3e6f983a5d">destroy_ga_context</a> (<a class="el" href="structGAContext.html">GAContext</a> *ctx)</td></tr>
<tr class="memdesc:ac317d4ce3d9bee8cfe93dd3e6f983a5d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frees all resources in the <a class="el" href="structGAContext.html" title="GAContext — central structure for the GA engine.">GAContext</a> and its dependencies.  <br /></td></tr>
<tr class="separator:ac317d4ce3d9bee8cfe93dd3e6f983a5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af37d89241d0a9ac0430a0db6c1ead3d2" id="r_af37d89241d0a9ac0430a0db6c1ead3d2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main__runtime_8c.html#af37d89241d0a9ac0430a0db6c1ead3d2">cleanup_all</a> (void)</td></tr>
<tr class="memdesc:af37d89241d0a9ac0430a0db6c1ead3d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cleans up all allocated resources and shuts down SDL.  <br /></td></tr>
<tr class="separator:af37d89241d0a9ac0430a0db6c1ead3d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a78adc79ba64266ed50a06bb638f355fe" id="r_a78adc79ba64266ed50a06bb638f355fe"><td class="memItemLeft" align="right" valign="top">pthread_mutex_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main__runtime_8c.html#a78adc79ba64266ed50a06bb638f355fe">g_log_mutex</a></td></tr>
<tr class="separator:a78adc79ba64266ed50a06bb638f355fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a158c1bf6ca040cf8c0ac49f4b6e9ad1d" id="r_a158c1bf6ca040cf8c0ac49f4b6e9ad1d"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main__runtime_8c.html#a158c1bf6ca040cf8c0ac49f4b6e9ad1d">g_log_text</a> [1024][512]</td></tr>
<tr class="separator:a158c1bf6ca040cf8c0ac49f4b6e9ad1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a491027e1bcd0d7a1cc4ffb94cc73d446" id="r_a491027e1bcd0d7a1cc4ffb94cc73d446"><td class="memItemLeft" align="right" valign="top">struct nk_color&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main__runtime_8c.html#a491027e1bcd0d7a1cc4ffb94cc73d446">g_log_color</a> [1024]</td></tr>
<tr class="separator:a491027e1bcd0d7a1cc4ffb94cc73d446"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab04af10125ca5972556beae5b9036f0a" id="r_ab04af10125ca5972556beae5b9036f0a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main__runtime_8c.html#ab04af10125ca5972556beae5b9036f0a">g_log_count</a></td></tr>
<tr class="separator:ab04af10125ca5972556beae5b9036f0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Runtime init and SDL/Nuklear integration for the Genetic Art demo. </p>
<p>This file sets up SDL2, Nuklear (with font baking), and rendering dimensions. It also provides reference image loading and the initial <a class="el" href="structGAContext.html" title="GAContext — central structure for the GA engine.">GAContext</a> builder. It manages the main loop, rendering, and integration between the GA engine and user interface. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a3926bf79b29f8777d0be1c56c0f2fa69" name="a3926bf79b29f8777d0be1c56c0f2fa69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3926bf79b29f8777d0be1c56c0f2fa69">&#9670;&#160;</a></span>build_ga_context()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structGAContext.html">GAContext</a> build_ga_context </td>
          <td>(</td>
          <td class="paramtype">Uint32 *&#160;</td>
          <td class="paramname"><em>ref_pixels</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Uint32 *&#160;</td>
          <td class="paramname"><em>best_pixels</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SDL_PixelFormat *&#160;</td>
          <td class="paramname"><em>fmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pitch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">atomic_int *&#160;</td>
          <td class="paramname"><em>running</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Build and return a fully-initialized <a class="el" href="structGAContext.html" title="GAContext — central structure for the GA engine.">GAContext</a> struct. </p>
<p>Build and return a fully initialized <a class="el" href="structGAContext.html" title="GAContext — central structure for the GA engine.">GAContext</a> structure.</p>
<p>This function allocates and initializes GA parameters, allocates and initializes fitness parameters, initializes the <a class="el" href="structGAContext.html" title="GAContext — central structure for the GA engine.">GAContext</a> structure, and initializes the mutex for the best chromosome.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ref_pixels</td><td>Pointer to the reference pixels for fitness evaluation. </td></tr>
    <tr><td class="paramname">best_pixels</td><td>Pointer to the buffer used for rendering the best candidate. </td></tr>
    <tr><td class="paramname">fmt</td><td>SDL pixel format for the textures. </td></tr>
    <tr><td class="paramname">pitch</td><td>The pitch (row size in bytes) for the ARGB buffers. </td></tr>
    <tr><td class="paramname">running</td><td>Shared atomic flag for stopping. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A fully configured <a class="el" href="structGAContext.html" title="GAContext — central structure for the GA engine.">GAContext</a> structure. </dd></dl>

</div>
</div>
<a id="af37d89241d0a9ac0430a0db6c1ead3d2" name="af37d89241d0a9ac0430a0db6c1ead3d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af37d89241d0a9ac0430a0db6c1ead3d2">&#9670;&#160;</a></span>cleanup_all()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cleanup_all </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cleans up all allocated resources and shuts down SDL. </p>
<p>Cleanly shut down the application, freeing all allocated resources.</p>
<p>This function shuts down Nuklear and SDL components. </p>

</div>
</div>
<a id="ac317d4ce3d9bee8cfe93dd3e6f983a5d" name="ac317d4ce3d9bee8cfe93dd3e6f983a5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac317d4ce3d9bee8cfe93dd3e6f983a5d">&#9670;&#160;</a></span>destroy_ga_context()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void destroy_ga_context </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structGAContext.html">GAContext</a> *&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Frees all resources in the <a class="el" href="structGAContext.html" title="GAContext — central structure for the GA engine.">GAContext</a> and its dependencies. </p>
<p>Release internal allocations within a <a class="el" href="structGAContext.html" title="GAContext — central structure for the GA engine.">GAContext</a> structure.</p>
<p>This function frees fitness parameters and scratch pixels, frees the best chromosome snapshot, destroys and frees the best chromosome mutex, and frees GA parameters.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>Pointer to <a class="el" href="structGAContext.html" title="GAContext — central structure for the GA engine.">GAContext</a> to destroy. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aaa36e62ce285d1d1ec1b94c7781b11ac" name="aaa36e62ce285d1d1ec1b94c7781b11ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa36e62ce285d1d1ec1b94c7781b11ac">&#9670;&#160;</a></span>init_nuklear_and_font()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int init_nuklear_and_font </td>
          <td>(</td>
          <td class="paramtype">struct nk_context **&#160;</td>
          <td class="paramname"><em>nk_ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SDL_Window *&#160;</td>
          <td class="paramname"><em>window</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SDL_Renderer *&#160;</td>
          <td class="paramname"><em>renderer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize Nuklear and load the embedded font. </p>
<p>Initialize the Nuklear GUI context and load an embedded or default font.</p>
<p>This function initializes the Nuklear context with SDL, stores a global reference to the Nuklear context, begins font stash to manage font baking, attempts to load the embedded font from memory, falls back to the default font if the embedded font fails to load, ends font stash, and applies the font to the Nuklear context.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">nk_ctx</td><td>Output pointer to Nuklear context. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">window</td><td>SDL window. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">renderer</td><td>SDL renderer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on failure. </dd></dl>

</div>
</div>
<a id="a6626f4168d75c46ed5451349ab14d69e" name="a6626f4168d75c46ed5451349ab14d69e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6626f4168d75c46ed5451349ab14d69e">&#9670;&#160;</a></span>init_sdl_and_window()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int init_sdl_and_window </td>
          <td>(</td>
          <td class="paramtype">SDL_Window **&#160;</td>
          <td class="paramname"><em>window</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SDL_Renderer **&#160;</td>
          <td class="paramname"><em>renderer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize SDL, window, and renderer. </p>
<p>This function initializes SDL with video and timer subsystems, creates a window with specified dimensions and position, and creates a renderer for the window with accelerated rendering and vsync. It also stores global references to the window and renderer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">window</td><td>Output pointer to an SDL_Window pointer. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">renderer</td><td>Output pointer to an SDL_Renderer pointer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on error. </dd></dl>

</div>
</div>
<a id="ab3dd609811d0e2346ecf0e11e79a5286" name="ab3dd609811d0e2346ecf0e11e79a5286"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3dd609811d0e2346ecf0e11e79a5286">&#9670;&#160;</a></span>load_reference_image()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SDL_Texture * load_reference_image </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SDL_Renderer *&#160;</td>
          <td class="paramname"><em>renderer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SDL_PixelFormat **&#160;</td>
          <td class="paramname"><em>fmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Uint32 **&#160;</td>
          <td class="paramname"><em>ref_pixels</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load and convert BMP into a format suitable for rendering and GA input. </p>
<p>Load and convert a BMP image into a texture and reference pixel buffer.</p>
<p>This function validates input parameters, validates BMP header/format with a separate function, loads the original BMP surface, converts or scales to the final ARGB8888 surface of size IMAGE_W x IMAGE_H, allocates and sets pixel format, allocates memory for reference pixels, copies pixel data from the final surface to reference pixels, creates a texture from the final surface, and validates texture creation.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td>Path to the BMP image. </td></tr>
    <tr><td class="paramname">renderer</td><td>Valid SDL_Renderer. </td></tr>
    <tr><td class="paramname">fmt</td><td>Output pointer to SDL_PixelFormat (caller must free with SDL_FreeFormat()). </td></tr>
    <tr><td class="paramname">ref_pixels</td><td>Output pointer to newly allocated ARGB buffer for reference image. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SDL_Texture* reference image texture or NULL on error. </dd></dl>

</div>
</div>
<a id="a5d9ba41ac7d207dd0c1372a1323943ed" name="a5d9ba41ac7d207dd0c1372a1323943ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d9ba41ac7d207dd0c1372a1323943ed">&#9670;&#160;</a></span>run_main_loop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void run_main_loop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structGAContext.html">GAContext</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct nk_context *&#160;</td>
          <td class="paramname"><em>nk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SDL_Window *&#160;</td>
          <td class="paramname"><em>window</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SDL_Renderer *&#160;</td>
          <td class="paramname"><em>renderer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SDL_Texture *&#160;</td>
          <td class="paramname"><em>tex_ref</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SDL_Texture *&#160;</td>
          <td class="paramname"><em>tex_best</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Uint32 *&#160;</td>
          <td class="paramname"><em>best_pixels</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pitch</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Run the main rendering and GUI update for each frame. </p>
<p>Run the main graphical and control loop of the application.</p>
<p>This function is responsible for:</p><ul>
<li>Beginning and ending Nuklear input for the frame</li>
<li>Clearing the SDL renderer and drawing the reference and best images</li>
<li>Displaying a scrollable, auto‐scrolling log panel below the image area</li>
<li>Displaying a “Future Widgets” panel beside the log panel</li>
<li>Presenting the composed frame and throttling frame rate</li>
</ul>
<p>The log panel will auto‐scroll when new entries arrive, unless the user has manually scrolled away from the bottom. Auto‐scroll resumes when the user scrolls back to the bottom.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>Pointer to the <a class="el" href="structGAContext.html" title="GAContext — central structure for the GA engine.">GAContext</a> containing algorithm state </td></tr>
    <tr><td class="paramname">nk</td><td>Pointer to the Nuklear GUI context </td></tr>
    <tr><td class="paramname">window</td><td>Pointer to the SDL_Window in use </td></tr>
    <tr><td class="paramname">renderer</td><td>Pointer to the SDL_Renderer for drawing </td></tr>
    <tr><td class="paramname">tex_ref</td><td>SDL_Texture holding the reference image </td></tr>
    <tr><td class="paramname">tex_best</td><td>SDL_Texture holding the current best candidate </td></tr>
    <tr><td class="paramname">best_pixels</td><td>Pointer to the pixel buffer for the best image </td></tr>
    <tr><td class="paramname">pitch</td><td>Byte pitch (row size) of the pixel buffers </td></tr>
  </table>
  </dd>
</dl>
<p>&lt; true while log auto‐scroll is active</p>
<p>&lt; stored scroll offsets between frames</p>
<p>&lt; previous frame’s log line count</p>
<p>&lt; height in pixels below the image</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a491027e1bcd0d7a1cc4ffb94cc73d446" name="a491027e1bcd0d7a1cc4ffb94cc73d446"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a491027e1bcd0d7a1cc4ffb94cc73d446">&#9670;&#160;</a></span>g_log_color</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct nk_color g_log_color[1024]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Corresponding color for each log line </p>

</div>
</div>
<a id="ab04af10125ca5972556beae5b9036f0a" name="ab04af10125ca5972556beae5b9036f0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab04af10125ca5972556beae5b9036f0a">&#9670;&#160;</a></span>g_log_count</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int g_log_count</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Current number of logged lines </p>

</div>
</div>
<a id="a78adc79ba64266ed50a06bb638f355fe" name="a78adc79ba64266ed50a06bb638f355fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78adc79ba64266ed50a06bb638f355fe">&#9670;&#160;</a></span>g_log_mutex</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">pthread_mutex_t g_log_mutex</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>&lt; New BMP validation header.</p>
<p>Mutex to protect concurrent log access </p>

</div>
</div>
<a id="a158c1bf6ca040cf8c0ac49f4b6e9ad1d" name="a158c1bf6ca040cf8c0ac49f4b6e9ad1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a158c1bf6ca040cf8c0ac49f4b6e9ad1d">&#9670;&#160;</a></span>g_log_text</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char g_log_text[1024][512]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Array of log text lines </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
